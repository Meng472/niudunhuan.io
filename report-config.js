// 综合评分报告配置文件
// 包含评分标准、开头语、结尾评语等

const ReportConfig = {
    // 实验报告独立评分（满分100分）
    // 不再包含理论知识部分

    // 实验评分标准（满分100分）
    experimentScoring: {
        // 数据采集质量（40分）
        dataQuality: {
            maxScore: 40,
            criteria: {
                // 测量点数量（15分）
                quantity: {
                    maxScore: 15,
                    rules: [
                        { min: 8, score: 15 },
                        { min: 6, max: 7, score: 12 },
                        { min: 4, max: 5, score: 8 },
                        { min: 0, max: 3, score: 4 }
                    ]
                },
                // 数据完整性（12分）
                completeness: {
                    maxScore: 12,
                    hasBothTypes: 12,  // 包含暗环和亮环
                    singleType: 7      // 只有一种类型
                },
                // 数据合理性（13分）- 线性拟合R²
                rationality: {
                    maxScore: 13,
                    rules: [
                        { min: 0.98, score: 13 },
                        { min: 0.95, max: 0.98, score: 10 },
                        { min: 0.90, max: 0.95, score: 7 },
                        { min: 0, max: 0.90, score: 4 }
                    ]
                }
            }
        },

        // 实验操作规范（30分）
        operationStandard: {
            maxScore: 30,
            criteria: {
                // 测量顺序（15分）
                sequence: {
                    maxScore: 15,
                    ordered: 15,      // 按环序号递增
                    unordered: 9      // 顺序混乱
                },
                // 数据记录（15分）
                recording: {
                    maxScore: 15,
                    complete: 15      // 数据格式正确，单位标注清晰
                }
            }
        },

        // 结果准确性（30分）
        accuracy: {
            maxScore: 30,
            criteria: {
                // 曲率半径误差（23分）
                radiusError: {
                    maxScore: 23,
                    rules: [
                        { max: 5, score: 23 },      // 误差<5%
                        { min: 5, max: 10, score: 15 },  // 5-10%
                        { min: 10, max: 20, score: 8 },  // 10-20%
                        { min: 20, score: 3 }       // >20%
                    ]
                },
                // 波长参数设置（7分）
                wavelength: {
                    maxScore: 7,
                    standard: 7,      // 使用标准波长（589nm）
                    nonStandard: 4    // 使用其他波长
                }
            }
        }
    },

    // 报告开头语
    introduction: `亲爱的同学：

欢迎完成牛顿环曲率测量虚拟仿真实验！本报告评估了你的实验操作能力和数据处理水平。

牛顿环实验是光学干涉的经典实验，通过精密测量干涉环的直径，可以准确计算透镜的曲率半径。这个看似简单的实验，却蕴含着严谨的科学态度和精密的测量技术，正是这些基础研究支撑着LAMOST等大国重器的发展。

让我们一起回顾你的实验表现：`,

    // 分段评语
    evaluations: {
        excellent: {  // 90-100分
            level: '优秀',
            comment: `你的表现非常出色！实验操作规范严谨，数据采集完整准确，结果精度高。你展现出了优秀的实验能力和数据处理水平，这种严谨求实的态度正是科研工作者的宝贵品质。

正如LAMOST望远镜依靠纳米级的精度检测实现巡天观测，你在实验中展现的精准和细致，正是科技报国的第一步。继续保持这份对科学的热爱和严谨，未来你一定能在科研道路上走得更远！`,
            suggestions: `继续深入学习光学干涉的理论知识，尝试探索更多应用场景，如薄膜厚度测量、光学元件检测等。建议阅读相关文献，了解干涉技术在现代科技中的前沿应用。`
        },
        good: {  // 80-89分
            level: '良好',
            comment: `你的实验完成得很好！数据采集较为完整，操作基本规范，结果准确性良好。在实验过程中展现出了认真负责的态度，这是科学研究的重要基础。

小小的牛顿环守护着LAMOST的巡天精度，你在实验中的每一次认真测量，都是在培养科学素养。继续保持这份认真，在细节上更加精益求精，你会取得更大的进步！`,
            suggestions: `建议在数据采集时更加细致，注意测量的系统性和完整性。加强对光学干涉原理的理解，思考实验误差的来源和改进方法。多做几次实验，提高操作的熟练度。`
        },
        medium: {  // 70-79分
            level: '中等',
            comment: `你基本完成了实验任务，掌握了牛顿环实验的基本方法。但在数据采集的完整性和操作规范性上还有提升空间，结果准确性也需要改进。

科学研究需要严谨的态度和扎实的基础。就像LAMOST需要精密的检测才能实现巡天观测，我们做实验也要追求准确和完整。相信通过努力，你一定能够提高实验能力！`,
            suggestions: `重点关注：1）增加测量点数量，确保数据的完整性；2）按顺序进行测量，养成良好的实验习惯；3）提高测量精度，减小误差；4）认真分析数据，理解实验原理。`
        },
        pass: {  // 60-69分
            level: '及格',
            comment: `你完成了基本的实验操作，但在数据质量、操作规范和结果准确性方面都需要明显改进。实验不仅是完成任务，更重要的是培养科学思维和严谨态度。

基础学科是大国重器的根基，认真做好每一次实验，就是科技报国的第一步。希望你能够重视实验过程，提高对科学研究的认识，在今后的学习中更加努力！`,
            suggestions: `强烈建议：1）重新学习实验原理，理解测量方法的科学依据；2）增加测量数据量，至少采集8个以上的测量点；3）注意操作规范，按顺序进行测量；4）重做实验，体会精密测量的重要性。建议寻求老师或同学的帮助。`
        },
        fail: {  // <60分
            level: '不及格',
            comment: `你的实验完成情况不理想，在数据采集、操作规范和结果准确性方面都存在较大问题。这说明你对实验的重视程度不够，或者对实验方法理解不足。

科学研究来不得半点马虎。LAMOST能够实现纳米级精度，靠的就是科研人员的严谨和坚持。希望你能够认识到问题的严重性，端正学习态度，重新完成实验。`,
            suggestions: `必须改进：1）认真学习实验原理和操作方法，理解牛顿环干涉的物理本质；2）重新进行实验，确保采集足够的有效数据；3）注意操作规范，按照正确的步骤进行测量；4）主动寻求老师指导，找出问题所在。建议重修本实验。`
        }
    },

    // 根据分数获取评价等级
    getEvaluationLevel(score) {
        if (score >= 90) return 'excellent';
        if (score >= 80) return 'good';
        if (score >= 70) return 'medium';
        if (score >= 60) return 'pass';
        return 'fail';
    }
};

// 导出配置（用于模块化）
if (typeof module !== 'undefined' && module.exports) {
    module.exports = ReportConfig;
}
